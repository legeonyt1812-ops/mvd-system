<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ï–° –ú–í–î</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
        }
        
        .auth-form {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 500px;
        }
        
        .auth-form h2 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .disclaimer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 12px;
            text-align: center;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
    </style>
</head>
<body>
    <div class="auth-container">
        <div class="auth-form">
            <h2>üéÆ –ï–î–ò–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ú–í–î</h2>
            <div class="form-group">
                <label>–ù–∏–∫–Ω–µ–π–º:</label>
                <input type="text" id="nickname" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º" required>
            </div>
            <div class="form-group">
                <label>–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            </div>
            <div class="form-group">
                <label>–§–ò–û:</label>
                <input type="text" id="fullName" placeholder="–í–∞—à–µ –∏–≥—Ä–æ–≤–æ–µ –§–ò–û" required>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>–î–æ–ª–∂–Ω–æ—Å—Ç—å:</label>
                    <select id="position" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ª–∂–Ω–æ—Å—Ç—å</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –ü–ü–°–ü</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –î–ü–° –ì–ê–ò</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –ú–†–≠–û –ì–ê–ò</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –ü–î–ù</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –£–í–ú</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –£–°–ë</option>
                        <option>–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –£–ù–ö</option>
                        <option>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–µ–∂—É—Ä–Ω—ã–π –î–ß</option>
                        <option>–û–ø–µ—Ä—É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–π —É–≥–æ–ª–æ–≤–Ω–æ–≥–æ —Ä–æ–∑—ã—Å–∫–∞</option>
                        <option>–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞</option>
                        <option>–ù–∞—á–∞–ª—å–Ω–∏–∫ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</option>
                        <option>–ò–Ω–æ–µ –¥–æ–ø—É—â–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–°–ø–µ—Ü–∑–≤–∞–Ω–∏–µ:</label>
                    <select id="rank" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–≤–∞–Ω–∏–µ</option>
                        <option>–†—è–¥–æ–≤–æ–π –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ú–ª–∞–¥—à–∏–π —Å–µ—Ä–∂–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–°–µ—Ä–∂–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–°—Ç–∞—Ä—à–∏–π —Å–µ—Ä–∂–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–°—Ç–∞—Ä—à–∏–Ω–∞ –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ü—Ä–∞–ø–æ—Ä—â–∏–∫ –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ú–ª–∞–¥—à–∏–π –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–õ–µ–π—Ç–µ–Ω–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–°—Ç–∞—Ä—à–∏–π –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ö–∞–ø–∏—Ç–∞–Ω –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ú–∞–π–æ—Ä –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ü–æ–¥–ø–æ–ª–∫–æ–≤–Ω–∏–∫ –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ü–æ–ª–∫–æ–≤–Ω–∏–∫ –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ì–µ–Ω–µ—Ä–∞–ª-–º–∞–π–æ—Ä –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ì–µ–Ω–µ—Ä–∞–ª-–ª–µ–π—Ç–µ–Ω–∞–Ω—Ç –ø–æ–ª–∏—Ü–∏–∏</option>
                        <option>–ì–µ–Ω–µ—Ä–∞–ª-–ø–æ–ª–∫–æ–≤–Ω–∏–∫ –ø–æ–ª–∏—Ü–∏–∏</option>
                    </select>
                </div>
            </div>
            <button class="login-btn" onclick="login()">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</button>
            
            <div class="disclaimer">
                <strong>–ò–ì–†–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê</strong><br>
                –ù–µ —Å–≤—è–∑–∞–Ω–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∞–º–∏. 
                –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–º—ã—à–ª–µ–Ω—ã. –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–æ–ª–µ–≤—ã—Ö –∏–≥—Ä–∞—Ö.
            </div>
        </div>
    </div>

    <script src="firebase-config.js"></script>
    <script>
        function login() {
            const user = {
                nickname: document.getElementById('nickname').value,
                fullName: document.getElementById('fullName').value,
                position: document.getElementById('position').value,
                rank: document.getElementById('rank').value,
                loginTime: new Date().toLocaleString()
            };
            
            if (!user.nickname || !user.fullName || !user.position || !user.rank) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            localStorage.setItem('mvd_current_user', JSON.stringify(user));
            
            // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ
            database.ref('users/' + user.nickname).set(user);
            
            window.location.href = 'index.html';
        }
        
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') login();
        });
    </script>
</body>
</html>